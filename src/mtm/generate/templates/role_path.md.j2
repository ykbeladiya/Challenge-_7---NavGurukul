# {{ title }}

{% if description %}
{{ description }}
{% endif %}

**Last Updated:** {{ last_updated }}  
**Project:** {{ project }}  
**Module Type:** Role Path  
**Role:** {{ role }}

## Table of Contents

{% if toc %}
{% for item in toc %}
- [{{ item.title }}](#{{ item.anchor }})
{% endfor %}
{% else %}
- [Overview](#overview)
- [Learning Path](#learning-path)
{% endif %}

---

## Overview

{% if content %}
{{ content }}
{% endif %}

This learning path is specifically curated for **{{ role }}** role.

{% if role_stats %}
**Role Statistics:**
- Total Segments: {{ role_stats.segments or 0 }}
- Total Themes: {{ role_stats.themes or 0 }}
- Average Confidence: {{ "%.1f" | format(role_stats.avg_confidence or 0) }}%
{% endif %}

---

## Learning Path

{% if steps %}
### Step-by-Step Guide

{% for step in steps %}
#### Step {{ step.step_number }}: {{ step.title }}

{{ step.description }}

{% if step.roles %}
*Relevant Roles:* {{ step.roles | join(", ") }}
{% endif %}

{% endfor %}
{% endif %}

{% if themes %}
### Key Themes

{% for theme in themes %}
#### {{ theme.name }}

{{ theme.description or "No description" }}

**Keywords:** {{ theme.keywords | join(", ") }}  
**Support Count:** {{ theme.support_count }}

{% if theme.role_confidence %}
*Role Confidence:* {{ "%.1f" | format(theme.role_confidence) }}%
{% endif %}

{% endfor %}
{% endif %}

{% if definitions %}
### Essential Definitions

{% for definition in definitions %}
#### {{ definition.term }}

{{ definition.definition }}

{% if definition.context %}
*Context:* {{ definition.context }}
{% endif %}

{% endfor %}
{% endif %}

{% if faqs %}
### Frequently Asked Questions

{% for faq in faqs %}
#### {{ faq.question }}

{{ faq.answer }}

{% endfor %}
{% endif %}

{% if actions %}
### Action Items

{% for action in actions %}
- **{{ action.action }}**
  {% if action.assignee %}(Assigned to: {{ action.assignee }}){% endif %}
  {% if action.due_date %}(Due: {{ action.due_date }}){% endif %}
  {% if action.status %}(Status: {{ action.status }}){% endif %}

{% endfor %}
{% endif %}

---

## Source References

{% if backlinks %}
{% if backlinks.note_id %}
**Source Note:** `{{ backlinks.note_id }}`
{% endif %}

{% if backlinks.segment_ids %}
**Source Segments:** {{ backlinks.segment_ids | length }} segment(s)
{% for seg_id in backlinks.segment_ids[:5] %}
- `{{ seg_id }}`
{% endfor %}
{% if backlinks.segment_ids | length > 5 %}
- ... and {{ backlinks.segment_ids | length - 5 }} more
{% endif %}
{% endif %}
{% endif %}

---

## Statistics

- **Total Steps:** {{ counts.steps or 0 }}
- **Total Themes:** {{ counts.themes or 0 }}
- **Total Definitions:** {{ counts.definitions or 0 }}
- **Total FAQs:** {{ counts.faqs or 0 }}
- **Total Decisions:** {{ counts.decisions or 0 }}
- **Total Actions:** {{ counts.actions or 0 }}
- **Role:** {{ role }}
- **Version:** {{ version or 1 }}

